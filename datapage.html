<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Homework 4: Hierarchical Data Visualization</title>

    <!-- Load Bulma from CDN (consider saving it to repository instead) -->
    <!-- https://bulma.io/ -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.8.0/css/bulma.min.css">

    <!-- Load Font Awesome 5 (free) icons -->
    <script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>

  </head>

  <body>

  <!-- Page header -->
  <!-- https://bulma.io/documentation/layout/hero/ -->
  <section class="hero is-primary is-bold">
    <div class="hero-body">
      <div class="container">
        <h1 class="title">Dataset Page</h1>
        <h2 class="subtitle">Description of dataset and data wrangling</h2>
      </div>
    </div>
  </section>
  <!-- End page header -->

  <!-- Page navigation -->
  <!-- https://bulma.io/documentation/components/navbar/ -->
  <nav class="navbar is-light" role="navigation" aria-label="main navigation">
    <div class="container">
      <div class="navbar-brand">
        <!-- TODO: Change link to repository homepage if needed -->
        <!-- TODO: Change which navbar-item is-active if needed -->
        <a class="navbar-item is-active" href="index.html">
          <span class="icon"><i class="fas fa-home"></i></span>
          <span>Home</span>
        </a>

        <a role="button" class="navbar-burger burger" aria-label="menu" aria-expanded="false" data-target="main-menu">
          <span aria-hidden="true"></span>
          <span aria-hidden="true"></span>
          <span aria-hidden="true"></span>
        </a>
      </div>

      <div id="main-menu" class="navbar-menu has-text-weight-medium">
        <!-- Left navbar items -->
        <div class="navbar-start">
          <a class="navbar-item" href="datapage.html" title="Data">
            <span class="icon"><i class="fas fa-table"></i></span>
            <span>Data</span>
          </a>

          <div class="navbar-item has-dropdown is-hoverable">
            <a class="navbar-link">
              Visualizations
            </a>

            <div class="navbar-dropdown">
              <a class="navbar-item" href="node_link1.html">
                <span>Node Link Diagram</span>
              </a>

              <hr class="navbar-divider">

              <a class="navbar-item" href="space_filling2.html">
                <span>Space Filling Diagram</span>
              </a>

            </div>
          </div>
        </div>

      </div>
    </div>
  </nav>
  <!-- End page navigation -->

  <section class="section">
    <div class="container">
      <!-- Begin page content -->
      <div class="content">
        <h1 class="title">
          Dataset: Fire Department Calls for Service
        </h1>
        <p class="subtitle">
          From DataSF
        </p>

        <p>
        Fire Calls-For-Service includes all fire units responses to calls. Each record includes the call number, incident number, address, unit identifier, call type, and disposition. All relevant time intervals are also included. Because this dataset is based on responses, and since most calls involved multiple units, there are multiple records for each call number. Addresses are associated with a block number, intersection or call box, not a specific address.
        </p>


        <p><strong>Source:</strong> <a href="https://data.sfgov.org/Public-Safety/Fire-Department-Calls-for-Service/nuek-vuh3" target = _blank>Fire Department Calls for Service Dataset</a></p>
        <p><strong>Size:</strong> 5.26M Rows; 34 Columns; Each row is a response</p>
        <p><strong>License:</strong> <a href="https://opendatacommons.org/licenses/pddl/1.0/" target = _blank> Open Data Commons Public Domain Dedication and License</a></p>
        <p><strong>Retrieve Date:</strong> April 18th, 2020</p>

        <strong>Relevant Columns:</strong>
        <ol>
          <li><strong>Incident Number:</strong> A unique 8-digit number assigned by DEM to this Fire incident</li>

          <li><strong>Battalion:</strong> Emergency Response District (There are 9 Fire Emergency Response Districts)</li>

          <li><strong>Station Area:</strong> Fire Station First Response Area associated with the address of the incident</li>
        </ol>

        <strong>Supplement Information:</strong> <a href="https://sf-fire.org/fire-station-locations">Fire Station Locations & Division and Battalion Stations at sf-fire.org</a>
          <ol>
            The division-battalion-station hierarchy structure was built based on information from this webpage</ol>

        <h3 id="wrangling">Wrangling</h3>
          <strong> On the website user interface</strong>
          <li>Firstly the dataset was filtered to be only for the year of 2019, which is between Janurary 1st 2019 and January 1st 2020.</li>
          <li>Then the dataset was grouped by "incident number" to make each row to be unique.</li>
          <strong> In the code in javascript</strong>
          <li> After creating a .csv file, use javascript to read each row and use an Object array as a map, to record and count incident number for each station, battalion and division.</li>
          <li> When recording into the map, manually encode the division-battalion-station structure from <a href="https://sf-fire.org/fire-station-locations">This webpage at sf-fire.org</a>.</li>
          <li> Add "Root" node into the map for further hierarchy operations.</li>
          <li> After recording incident counts, push all the information as nodes into an array. With d3.stratify(), the hierarchy would be ready.</li>
          <li> Then further functions for hierarchy data could be applied.</li>
          <p> (Detailed steps with code would be in page of specific visualizations)</p>
      </div>
      <!-- End page content -->
    </div>
  </section>

  <!-- Page footer -->
  <!-- https://bulma.io/documentation/layout/footer/ -->
  <footer class="footer">
    <div class="content has-text-centered is-size-7">
      <p>
        <a href="#top">
          <span class="fas fa-arrow-up"></span>
          <span class="has-text-weight-medium">Back to Top</span>
        </a>
      </p>

      <p>
        <a href="https://github.com/usf-cs360-spring2020/homework4-alexziweiwang" class="button is-small" style="padding-left: 1em; padding-right: 1em;">
          <i class="fab fa-github-alt"></i>&nbsp;<strong>Github</strong>
        </a>

        <a href="https://fontawesome.com/" class="button is-small" style="padding-left: 1em; padding-right: 1em;">
          <i class="fab fa-font-awesome"></i>&nbsp;<strong>FontAwesome</strong>
        </a>

        <a href="https://bulma.io" class="button is-small">
          <img src="https://bulma.io/images/made-with-bulma--semiblack.png" alt="Made with Bulma" width="128" height="24">
        </a>
      </p>
    </div>
  </footer>
  <!-- End page footer -->

  </body>

</html>
